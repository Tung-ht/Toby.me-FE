{"openapi":"3.0.1","info":{"title":"Toby.me","description":"API docs for Toby.me","version":"1.0"},"servers":[{"url":"http://192.168.1.6:8881/api","description":"Generated server url"}],"security":[{"bearerAuth":[]}],"paths":{"/articles/{slug}":{"get":{"tags":["articles-controller"],"operationId":"getArticle","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string"}},{"name":"authUserDetails","in":"query","required":true,"schema":{"$ref":"#/components/schemas/AuthUserDetails"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleArticleArticleDto"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleArticleArticleDto"}}}},"422":{"description":"Failed, unknown error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleArticleArticleDto"}}}}}},"put":{"tags":["articles-controller"],"operationId":"updateArticle","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"article":{"$ref":"#/components/schemas/SingleArticleUpdate"},"authUserDetails":{"$ref":"#/components/schemas/AuthUserDetails"}}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleArticleArticleDto"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleArticleArticleDto"}}}},"422":{"description":"Failed, unknown error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleArticleArticleDto"}}}}}},"delete":{"tags":["articles-controller"],"operationId":"deleteArticle","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthUserDetails"}}}},"responses":{"200":{"description":"OK"},"404":{"description":"Not Found"},"422":{"description":"Failed, unknown error"}}}},"/articles/approve/{slug}":{"put":{"tags":["articles-controller"],"operationId":"approveArticle","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"},"404":{"description":"Not Found"},"422":{"description":"Failed, unknown error"}}}},"/profiles/{username}/follow":{"post":{"tags":["profiles-controller"],"operationId":"followUser","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthUserDetails"}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Single"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Single"}}}},"422":{"description":"Failed, unknown error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Single"}}}}}},"delete":{"tags":["profiles-controller"],"operationId":"unfollowUser","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthUserDetails"}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Single"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Single"}}}},"422":{"description":"Failed, unknown error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Single"}}}}}}},"/articles":{"get":{"tags":["articles-controller"],"summary":"These posts any user can see","operationId":"listApprovedArticles","parameters":[{"name":"articleQueryParam","in":"query","required":true,"schema":{"$ref":"#/components/schemas/ArticleQueryParam"}},{"name":"authUserDetails","in":"query","required":true,"schema":{"$ref":"#/components/schemas/AuthUserDetails"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MultipleArticle"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MultipleArticle"}}}},"422":{"description":"Failed, unknown error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MultipleArticle"}}}}}},"post":{"tags":["articles-controller"],"operationId":"createArticle","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"article":{"$ref":"#/components/schemas/SingleArticleArticleDto"},"authUserDetails":{"$ref":"#/components/schemas/AuthUserDetails"}}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleArticleArticleDto"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleArticleArticleDto"}}}},"422":{"description":"Failed, unknown error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleArticleArticleDto"}}}}}}},"/articles/{slug}/favorite":{"post":{"tags":["articles-controller"],"operationId":"favoriteArticle","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthUserDetails"}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleArticleArticleDto"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleArticleArticleDto"}}}},"422":{"description":"Failed, unknown error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleArticleArticleDto"}}}}}},"delete":{"tags":["articles-controller"],"operationId":"unfavoriteArticle","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthUserDetails"}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleArticleArticleDto"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleArticleArticleDto"}}}},"422":{"description":"Failed, unknown error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleArticleArticleDto"}}}}}}},"/articles/{slug}/comments":{"get":{"tags":["articles-controller"],"operationId":"getCommentsFromAnArticle","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string"}},{"name":"authUserDetails","in":"query","required":true,"schema":{"$ref":"#/components/schemas/AuthUserDetails"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MultipleComments"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MultipleComments"}}}},"422":{"description":"Failed, unknown error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MultipleComments"}}}}}},"post":{"tags":["articles-controller"],"operationId":"addCommentsToAnArticle","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"comment":{"$ref":"#/components/schemas/SingleComment"},"authUserDetails":{"$ref":"#/components/schemas/AuthUserDetails"}}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleComment"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleComment"}}}},"422":{"description":"Failed, unknown error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SingleComment"}}}}}}},"/tags":{"get":{"tags":["tag-controller"],"summary":"Get tags sorted by popularity for home page or approving page","description":"Default is homepage, isApproved = 1; For approving page, isApproved = 0","operationId":"getTagsByPopularity","parameters":[{"name":"isApproved","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":1}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TagList"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TagList"}}}},"422":{"description":"Failed, unknown error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TagList"}}}}}}},"/tags/drop-down":{"get":{"tags":["tag-controller"],"summary":"Get tags list for drop-down selector when user creating articles","operationId":"dropDownListOfTags","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TagList"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TagList"}}}},"422":{"description":"Failed, unknown error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TagList"}}}}}}},"/profiles/{username}":{"get":{"tags":["profiles-controller"],"operationId":"getProfile","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string"}},{"name":"authUserDetails","in":"query","required":true,"schema":{"$ref":"#/components/schemas/AuthUserDetails"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Single"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Single"}}}},"422":{"description":"Failed, unknown error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Single"}}}}}}},"/articles/unapproved":{"get":{"tags":["articles-controller"],"summary":"These posts only admins and its author can see, and if they are approved, other users can see","operationId":"listUnapprovedArticles","parameters":[{"name":"articleQueryParam","in":"query","required":true,"schema":{"$ref":"#/components/schemas/ArticleQueryParam"}},{"name":"authUserDetails","in":"query","required":true,"schema":{"$ref":"#/components/schemas/AuthUserDetails"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MultipleArticle"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MultipleArticle"}}}},"422":{"description":"Failed, unknown error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MultipleArticle"}}}}}}},"/articles/feed":{"get":{"tags":["articles-controller"],"operationId":"feedArticles","parameters":[{"name":"feedParams","in":"query","required":true,"schema":{"$ref":"#/components/schemas/FeedParams"}},{"name":"authUserDetails","in":"query","required":true,"schema":{"$ref":"#/components/schemas/AuthUserDetails"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MultipleArticle"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MultipleArticle"}}}},"422":{"description":"Failed, unknown error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MultipleArticle"}}}}}}},"/articles/{slug}/comments/{commentId}":{"delete":{"tags":["articles-controller"],"summary":"admin, postAuthor, commentAuthor can delete this comment","operationId":"deleteComment","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string"}},{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthUserDetails"}}}},"responses":{"200":{"description":"OK"},"404":{"description":"Not Found"},"422":{"description":"Failed, unknown error"}}}}},"components":{"schemas":{"SingleArticleUpdate":{"type":"object","properties":{"article":{"$ref":"#/components/schemas/Update"}}},"Update":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"body":{"type":"string"},"tagList":{"type":"array","items":{"type":"string"}}}},"AuthUserDetails":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"email":{"type":"string"},"authorities":{"type":"array","items":{"$ref":"#/components/schemas/GrantedAuthority"}},"enabled":{"type":"boolean"},"username":{"type":"string"},"password":{"type":"string"},"accountNonExpired":{"type":"boolean"},"accountNonLocked":{"type":"boolean"},"credentialsNonExpired":{"type":"boolean"}}},"GrantedAuthority":{"type":"object","properties":{"authority":{"type":"string"}}},"ArticleDto":{"required":["body","description","title"],"type":"object","properties":{"slug":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"body":{"type":"string"},"tagList":{"type":"array","items":{"type":"string"}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"favorited":{"type":"boolean"},"favoritesCount":{"type":"integer","format":"int64"},"author":{"$ref":"#/components/schemas/ProfileDto"}}},"ProfileDto":{"type":"object","properties":{"username":{"type":"string"},"bio":{"type":"string"},"image":{"type":"string"},"following":{"type":"boolean"}}},"SingleArticleArticleDto":{"type":"object","properties":{"article":{"$ref":"#/components/schemas/ArticleDto"}}},"Single":{"type":"object","properties":{"profile":{"$ref":"#/components/schemas/ProfileDto"}}},"CommentDto":{"required":["body"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"body":{"type":"string"},"author":{"$ref":"#/components/schemas/ProfileDto"}}},"SingleComment":{"type":"object","properties":{"comment":{"$ref":"#/components/schemas/CommentDto"}}},"TagList":{"type":"object","properties":{"tags":{"type":"array","items":{"type":"string"}}}},"ArticleQueryParam":{"type":"object","properties":{"offset":{"type":"integer","format":"int32"},"limit":{"type":"integer","format":"int32"},"tag":{"type":"string"},"author":{"type":"string"},"favorited":{"type":"string"}}},"MultipleArticle":{"type":"object","properties":{"articles":{"type":"array","items":{"$ref":"#/components/schemas/ArticleDto"}},"articlesCount":{"type":"integer","format":"int32"}}},"MultipleComments":{"type":"object","properties":{"comments":{"type":"array","items":{"$ref":"#/components/schemas/CommentDto"}}}},"FeedParams":{"type":"object","properties":{"offset":{"type":"integer","format":"int32"},"limit":{"type":"integer","format":"int32"}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}